applications:
  - name: bullseye-api-v2
    type: web
    env: python
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn bullseye_api:app --host 0.0.0.0 --port $PORT --workers 1
    envVars:
      PYTHON_VERSION: "3.9"
      PORT: "8000"
      TF_CPP_MIN_LOG_LEVEL: "2"
      TF_FORCE_GPU_ALLOW_GROWTH: "false"
      TF_MEMORY_ALLOCATION: "0.2"
      TF_CPP_VMODULE: "tensorflow=0"
      OMP_NUM_THREADS: "1"
      PYTHONUNBUFFERED: "1"
      PYTHONDONTWRITEBYTECODE: "1"
      RENDER_ENVIRONMENT: "python"
